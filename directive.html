<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Directives</title>
    <script src="libs/angular.min.js"></script>
    <!--    <script src="libs/jquery-2.2.3.min.js"></script>-->
    <script>
        var myApp = angular.module('myApp', []);

        myApp.controller('myController', function ($scope) {
            $scope.name = 'Custom directive';
            $scope.address = 'Sec - 44, Noida - India.';

            $scope.anand = 'Anand Dev';
            $scope.aijaz = 'Aijaz';

            /*$scope.anand = {
                name: 'Anand',
                address: '1600 Amphitheatre'
            };
            $scope.aijaz = {
                name: 'Aijaz',
                address: '123 Somewhere'
            };
*/
            $scope.GetGreetFromController = function (name) {
                name = name || 'Stranger',
                    alert('Welcome, ' + name + ' from controller.');
            };
        });

        myApp.directive('custDir', function () {
            return {
                restrict: 'AE',
                //template: '<p>Hello: <b> {{ name }}</b> , your address is: <b> {{ address}} </b></p>',
                templateUrl: function (ele, attr) { // Here we can not have access of scope object.
                    return '' + attr.templateFor + '-template.html';
                },

                scope: {
                    // custName is name of scope which we can use in templates and link function.
                    //And custMyName is the normalized form of attribute at custom directive.
                    localFood: '@favFood',
                    getGreet: '&getGreet',
                    custName: '=custMyName'
                }
            };
        });
    </script>
</head>

<body>
    <div ng-app="myApp" id="divMyApp">
        <div ng-controller="myController" id="divCtrl">
            Enter Message for Anand:
            <input type="text" ng-model='anand'> Enter Message for Aijaz:
            <input type="text" ng-model='aijaz'>
            <br>
            <div cust-dir class="custom" cust-my-name='anand' template-for='custom' fav-food='Tahri' get-greet='GetGreetFromController(anand)'></div>
            <cust-dir class="custom" cust-my-name='aijaz' template-for='custom' fav-food='Biriyani' get-greet='GetGreetFromController(aijaz)'></cust-dir>
        </div>
    </div>
</body>

</html>

<script>
</script>

<!-- Links:
https://docs.angularjs.org/guide/directive
https://docs.angularjs.org/api/ng/directive
-->
